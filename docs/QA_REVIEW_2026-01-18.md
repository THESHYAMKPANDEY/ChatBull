# QA / Production-Readiness Review (2026-01-18)

## Scope Covered
- Mobile (Expo / React Native) automated checks and config validation
- Backend (Express + Socket.IO in `old_version/backend`) build, tests, and smoke checks
- Deployment configs: Render + GitHub Actions CI
- Basic load test on health endpoint
- Localization scaffolding and a first pass on accessibility labels for icon-only actions

## Automated Checks (Executed)
- Mobile:
  - `npm ci`
  - `npx tsc --noEmit`
  - `npx expo-doctor` (now passing)
- Backend (`old_version/backend`):
  - `npm ci`
  - `npm run build`
  - `npm run test:ci`

## Runtime Smoke Checks (Executed)
- Backend:
  - `GET /health` returns 200 with status `OK`
  - `GET /api/legal/privacy` returns policy payload

## Load / Stress Test (Executed)
- `npx autocannon -c 20 -d 5 http://localhost:10000/health`
  - Previously triggered many non-2xx responses due to global rate limiting
  - Updated rate limit configuration to skip health endpoints; retest returned all 2xx

## Fixes Implemented
- Mobile configuration / reliability:
  - Added missing peer dependency `expo-font`
  - Removed non-schema config field from `app.json` and aligned Metro config with Expo expectations
  - Normalized app icon assets to square PNGs to satisfy Expo config validation
  - Configured Expo Doctor directory metadata exclusions for known dependencies used by the app
- Backend correctness / platform readiness:
  - Exempted health endpoints from global rate limiting (prevents false health-check failures under load)
  - Removed duplicate `/api/health` route registration in `src/app.ts`
  - Added regression test ensuring `/health` is not rate limited
- CI / deployment correctness:
  - Updated Render deployment commands to use the backend implementation in `old_version/backend`
  - Updated GitHub Actions CI backend job to use `old_version/backend`
- Localization / accessibility foundation:
  - Added minimal i18n scaffolding and migrated a first set of UI strings
  - Added accessibility labels for icon-only header actions on key screens

## Key Risks / Follow-ups (Not Fully Automatable)
- Secrets handling:
  - Ensure `.env` files, Firebase native config files, and provider secrets are not tracked in git.
  - Rotate any credentials that have been committed or shared.
- Dependency health:
  - Expo Doctor flagged some dependencies as unmaintained/unknown; they are currently excluded.
  - Consider replacing unmaintained storage/keep-awake libraries if feasible.
- Full end-to-end functional QA:
  - Requires running the app on iOS + Android devices/simulators with real Firebase auth, backend connectivity, media upload, push notifications, and calling features configured.
- App Store / Play Store readiness:
  - Confirm permission prompts and privacy disclosures match actual behavior.
  - Verify required store metadata, screenshots, and contact channels are prepared.

